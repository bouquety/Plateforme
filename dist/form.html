<!DOCTYPE html>
<!-- Commentaires en français et le reste en anglais -->
<html>

<head>
  <title> Connexion </title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/bootstrap.e47359f3.css" rel="stylesheet">
  <link href="/stylo.6c8cb81a.css" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.2.0/css/ol.css" type="text/css">
<script src="/bootstrap.e47359f3.js"></script><script src="/stylo.6c8cb81a.js"></script></head>

<body>
  <!-- Corps de la page -->
    <div class="container-fluid">
      <div class="row justify-content-center">
            <form class="form-honrizontal text-center">
                <div class="form-group">
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <img src="/test.2e9d8d1f.PNG" alt="Logo" style="width:220px;">
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <div id="resultat">
                      </div>
                  <input name="Login" id="Login" class="form-control" placeholder="Login">                
                </div>
                <div class="form-group">
                  <input type="password" class="form-control" name="motdepasse" id="motdepasse" placeholder="Mot de passe">
                </div>
                <br>
                <button type="submit" class="btn btn-dark" id="envoi">Connexion</button>
              </form>
      </div>
    </div>
 
  <script>$(document).ready(function () {
  var $erreur = $('#erreur'),
      $Login = $('#Login'),
      $motdepasse = $('#motdepasse'),
      $envoi = $('#envoi'),
      $champ = $('#Login');
  $champs = $('#motdepasse');
  $champ.keyup(function () {
    if ($(this).val().length < 3) {
      // si la chaîne de caractères est inférieure à 5
      $(this).css({
        // on rend le champ rouge
        borderColor: 'red',
        color: 'red'
      });
    } else {
      $(this).css({
        // si tout est bon, on le rend vert
        borderColor: 'green',
        color: 'green'
      });
    }
  });
  $champs.keyup(function () {
    if ($(this).val().length < 3) {
      // si la chaîne de caractères est inférieure à 5
      $(this).css({
        // on rend le champ rouge
        borderColor: 'red',
        color: 'red'
      });
    } else {
      $(this).css({
        // si tout est bon, on le rend vert
        borderColor: 'green',
        color: 'green'
      });
    }
  });
  $("#envoi").click(function (e) {
    e.preventDefault();
    $.post('http://192.168.0.169:8080/json/login', {
      Login: $("#Login").val(),
      motdepasse: $("#motdepasse").val()
    }, function (data) {
      if (data == 'Success') {
        // Le membre est connecté. Ajoutons lui un message dans la page HTML.
        console.log(data);
        window.location.href = 'http://192.168.0.169:1234/';
      } else {
        // Le membre n'a pas été connecté. (data vaut ici "failed")
        console.log(data);
        $("#resultat").html("<p style= 'color:white'> Mauvais identifiant ou mauvais mot de passe</p>");
      }
    }, 'text');
  });
});</script>


</body>

</html>
